{"ast":null,"code":"import \"antd/lib/locale-provider/style/css\";\nimport _LocaleProvider from \"antd/lib/locale-provider\";\nimport \"antd/lib/icon/style/css\";\nimport _Icon from \"antd/lib/icon\";\nimport _classCallCheck from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport \"antd/lib/layout/style/css\";\nimport _Layout from \"antd/lib/layout\";\nvar _jsxFileName = \"/Users/jk/Desktop/obj/jkwmsweb/src/containers/home/index.js\";\nimport React, { Component } from 'react';\nimport MenuLayout from '../../components/layout/menu';\nimport HeadLayout from '../../components/layout/header';\nimport CrumbLayout from '../../components/layout/crumb';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nvar Sider = _Layout.Sider,\n    Content = _Layout.Content;\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n\n    _this.reloadHeight = function () {\n      console.log(window.document.body.clientHeight, 111);\n\n      _this.setState({\n        height: window.document.body.clientHeight\n      });\n    };\n\n    _this.onOpenChange = function (openKeys) {\n      var latestOpenKey = openKeys.find(function (key) {\n        return _this.state.openKeys.indexOf(key) === -1;\n      });\n\n      if (_this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        _this.setState({\n          openKeys: openKeys\n        });\n      } else {\n        _this.setState({\n          openKeys: latestOpenKey ? [latestOpenKey] : []\n        });\n\n        _this.latestOpenKey = latestOpenKey;\n      }\n    };\n\n    _this.toggle = function () {\n      if (_this.state.collapsed) {\n        _this.setState({\n          openKeys: _this.openOldKeys\n        }, function () {\n          _this.setState({\n            collapsed: !_this.state.collapsed\n          });\n        });\n      } else {\n        _this.openOldKeys = _this.state.openKeys;\n\n        _this.setState({\n          openKeys: []\n        }, function () {\n          _this.setState({\n            collapsed: !_this.state.collapsed\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      collapsed: false,\n      openKeys: ['sub1'],\n      clientHeight: window.document.body.clientHeight\n    };\n    _this.openOldKeys = ['sub1'];\n    _this.rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token = localStorage.getItem('token'); //-- 判断登录\n\n      if (!token) window.location.href = '/'; //-- 添加监听用来监测浏览器高度变化\n\n      window.addEventListener('resize', this.reloadHeight);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(_LocaleProvider, {\n        locale: zhCN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(_Layout, {\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(HeadLayout, {\n        toggle: this.toggle,\n        collapsed: this.state.collapsed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(_Layout, {\n        style: {\n          display: 'flex',\n          marginTop: 60,\n          height: this.state.clientHeight - 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Sider, {\n        trigger: null,\n        collapsible: true,\n        collapsed: this.state.collapsed,\n        style: {\n          background: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(MenuLayout, {\n        onOpenChange: this.onOpenChange,\n        openKeys: this.state.openKeys,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), React.createElement(Content, {\n        style: {\n          display: 'flex',\n          margin: '10px 0px 0px 10px',\n          backgroundColor: '#fff',\n          flexDirection: 'column'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-start',\n          height: 40,\n          width: '100%',\n          alignItems: 'center',\n          borderBottom: '1px solid #efefef'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: this.state.collapsed ? 'menu-unfold' : 'menu-fold',\n        onClick: this.toggle,\n        style: {\n          width: 40,\n          height: 40,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(CrumbLayout, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          padding: 10,\n          width: '100%',\n          borderBottom: '1px solid #efefef',\n          overflow: 'auto',\n          height: this.state.clientHeight\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.props.children)))));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport { Index as default };","map":{"version":3,"sources":["/Users/jk/Desktop/obj/jkwmsweb/src/containers/home/index.js"],"names":["React","Component","MenuLayout","HeadLayout","CrumbLayout","zhCN","Sider","Content","Index","props","reloadHeight","console","log","window","document","body","clientHeight","setState","height","onOpenChange","openKeys","latestOpenKey","find","key","state","indexOf","rootSubmenuKeys","toggle","collapsed","openOldKeys","token","localStorage","getItem","location","href","addEventListener","display","marginTop","background","margin","backgroundColor","flexDirection","justifyContent","width","alignItems","borderBottom","padding","overflow","children"],"mappings":"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","sourcesContent":["import { Layout, Icon, LocaleProvider } from 'antd';\nimport React, { Component } from 'react';\nimport MenuLayout from '../../components/layout/menu';\nimport HeadLayout from '../../components/layout/header';\nimport CrumbLayout from '../../components/layout/crumb';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nconst { Sider, Content } = Layout;\nexport default class Index extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      collapsed: false,\n      openKeys: ['sub1'],\n      clientHeight: window.document.body.clientHeight\n    };\n    this.openOldKeys = ['sub1']\n    this.rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\n  }\n  componentDidMount() {\n    const token = localStorage.getItem('token')\n    //-- 判断登录\n    if (!token) window.location.href = '/';\n    //-- 添加监听用来监测浏览器高度变化\n    window.addEventListener('resize', this.reloadHeight);\n  }\n  reloadHeight = () => {\n    console.log(window.document.body.clientHeight, 111)\n    this.setState({ height: window.document.body.clientHeight })\n  }\n  onOpenChange = (openKeys) => {\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      this.setState({ openKeys });\n    } else {\n      this.setState({\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\n      });\n      this.latestOpenKey = latestOpenKey;\n    }\n  }\n  toggle = () => {\n    if (this.state.collapsed) {\n      this.setState({\n        openKeys: this.openOldKeys\n      }, () => {\n        this.setState({\n          collapsed: !this.state.collapsed,\n        });\n      });\n    } else {\n      this.openOldKeys = this.state.openKeys\n      this.setState({\n        openKeys: []\n      }, () => {\n        this.setState({\n          collapsed: !this.state.collapsed,\n        });\n      });\n    }\n  }\n  render() {\n    return (\n      <LocaleProvider locale={zhCN}>\n        <Layout style={{ height: '100%' }}>\n          {/* 头部 */}\n          <HeadLayout toggle={this.toggle} collapsed={this.state.collapsed} />\n          <Layout style={{ display: 'flex', marginTop: 60, height: this.state.clientHeight - 60 }}>\n            {/* 左侧导航栏 */}\n            <Sider\n              trigger={null}\n              collapsible\n              collapsed={this.state.collapsed}\n              style={{ background: '#fff' }}\n            >\n              <MenuLayout onOpenChange={this.onOpenChange} openKeys={this.state.openKeys} />\n            </Sider>\n            <Content style={{ display: 'flex', margin: '10px 0px 0px 10px', backgroundColor: '#fff', flexDirection: 'column' }}>\n              {/* 面包屑部分 */}\n              <div style={{ display: 'flex', justifyContent: 'flex-start', height: 40, width: '100%', alignItems: 'center', borderBottom: '1px solid #efefef' }}>\n                <Icon\n                  type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\n                  onClick={this.toggle}\n                  style={{ width: 40, height: 40, display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n                />\n                <CrumbLayout {...this.props} />\n              </div>\n              {/* 主体部分 */}\n              <div style={{ display: 'flex', padding: 10, width: '100%', borderBottom: '1px solid #efefef', overflow: 'auto', height: this.state.clientHeight }}>\n                {this.props.children}\n              </div>\n            </Content>\n          </Layout>\n        </Layout>\n      </LocaleProvider>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}