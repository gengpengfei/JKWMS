{"ast":null,"code":"import \"antd/lib/locale-provider/style/css\";\nimport _LocaleProvider from \"antd/lib/locale-provider\";\nimport \"antd/lib/icon/style/css\";\nimport _Icon from \"antd/lib/icon\";\nimport _classCallCheck from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jk/Desktop/obj/jkwmsweb/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport \"antd/lib/layout/style/css\";\nimport _Layout from \"antd/lib/layout\";\nvar _jsxFileName = \"/Users/jk/Desktop/obj/jkwmsweb/src/containers/home/index.js\";\nimport React, { Component } from 'react';\nimport MenuLayout from '../../components/layout/menu';\nimport HeadLayout from '../../components/layout/header';\nimport CrumbLayout from '../../components/layout/crumb';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nvar Sider = _Layout.Sider,\n    Content = _Layout.Content;\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n\n    _this.reloadHeight = function () {\n      _this.setState({\n        clientHeight: window.document.body.clientHeight\n      });\n    };\n\n    _this.onOpenChange = function (openKeys) {\n      var latestOpenKey = openKeys.find(function (key) {\n        return _this.state.openKeys.indexOf(key) === -1;\n      });\n\n      if (_this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        _this.setState({\n          openKeys: openKeys\n        });\n      } else {\n        _this.setState({\n          openKeys: latestOpenKey ? [latestOpenKey] : []\n        });\n\n        _this.latestOpenKey = latestOpenKey;\n      }\n    };\n\n    _this.toggle = function () {\n      if (_this.state.collapsed) {\n        _this.setState({\n          openKeys: _this.openOldKeys\n        }, function () {\n          _this.setState({\n            collapsed: !_this.state.collapsed\n          });\n        });\n      } else {\n        _this.openOldKeys = _this.state.openKeys;\n\n        _this.setState({\n          openKeys: []\n        }, function () {\n          _this.setState({\n            collapsed: !_this.state.collapsed\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      collapsed: false,\n      openKeys: [],\n      clientHeight: window.document.body.clientHeight\n    };\n    _this.openOldKeys = ['sub1'];\n    _this.rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token = localStorage.getItem('token'); //-- 判断登录\n\n      if (!token) window.location.href = '/'; //-- 添加监听用来监测浏览器高度变化\n\n      window.addEventListener('resize', this.reloadHeight);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.reloadHeight);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(_LocaleProvider, {\n        locale: zhCN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(_Layout, {\n        style: {\n          height: this.state.clientHeight,\n          overflow: 'hidden'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(HeadLayout, {\n        toggle: this.toggle,\n        collapsed: this.state.collapsed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(_Layout, {\n        style: {\n          marginTop: 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Sider, {\n        trigger: null,\n        collapsible: true,\n        collapsed: this.state.collapsed,\n        style: {\n          background: '#fff',\n          height: 'auto',\n          overflow: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(MenuLayout, {\n        onOpenChange: this.onOpenChange,\n        openKeys: this.state.openKeys,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(Content, {\n        style: {\n          display: 'flex',\n          margin: '10px 0px 0px 10px',\n          backgroundColor: '#fff',\n          flexDirection: 'column',\n          height: 'auto',\n          overflow: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-start',\n          height: 40,\n          width: '100%',\n          alignItems: 'center',\n          borderBottom: '1px solid #efefef'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: this.state.collapsed ? 'menu-unfold' : 'menu-fold',\n        onClick: this.toggle,\n        style: {\n          width: 40,\n          height: 40,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(CrumbLayout, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          padding: 10,\n          width: '100%',\n          borderBottom: '1px solid #efefef',\n          overflow: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.props.children)))));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport { Index as default };","map":{"version":3,"sources":["/Users/jk/Desktop/obj/jkwmsweb/src/containers/home/index.js"],"names":["React","Component","MenuLayout","HeadLayout","CrumbLayout","zhCN","Sider","Content","Index","props","reloadHeight","setState","clientHeight","window","document","body","onOpenChange","openKeys","latestOpenKey","find","key","state","indexOf","rootSubmenuKeys","toggle","collapsed","openOldKeys","token","localStorage","getItem","location","href","addEventListener","removeEventListener","height","overflow","marginTop","background","display","margin","backgroundColor","flexDirection","justifyContent","width","alignItems","borderBottom","padding","children"],"mappings":"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","sourcesContent":["import { Layout, Icon, LocaleProvider } from 'antd';\nimport React, { Component } from 'react';\nimport MenuLayout from '../../components/layout/menu';\nimport HeadLayout from '../../components/layout/header';\nimport CrumbLayout from '../../components/layout/crumb';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nconst { Sider, Content } = Layout;\nexport default class Index extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      collapsed: false,\n      openKeys: [],\n      clientHeight: window.document.body.clientHeight,\n    };\n    this.openOldKeys = ['sub1']\n    this.rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\n  }\n  componentDidMount() {\n    const token = localStorage.getItem('token')\n    //-- 判断登录\n    if (!token) window.location.href = '/';\n    //-- 添加监听用来监测浏览器高度变化\n    window.addEventListener('resize', this.reloadHeight);\n  }\n  reloadHeight = () => {\n    this.setState({ clientHeight: window.document.body.clientHeight })\n  }\n  onOpenChange = (openKeys) => {\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      this.setState({ openKeys });\n    } else {\n      this.setState({\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\n      });\n      this.latestOpenKey = latestOpenKey;\n    }\n  }\n  toggle = () => {\n    if (this.state.collapsed) {\n      this.setState({\n        openKeys: this.openOldKeys\n      }, () => {\n        this.setState({\n          collapsed: !this.state.collapsed,\n        });\n      });\n    } else {\n      this.openOldKeys = this.state.openKeys\n      this.setState({\n        openKeys: []\n      }, () => {\n        this.setState({\n          collapsed: !this.state.collapsed,\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.reloadHeight)\n  }\n\n  render() {\n    return (\n      <LocaleProvider locale={zhCN}>\n        <Layout style={{ height: this.state.clientHeight, overflow: 'hidden' }}>\n          {/* 头部 */}\n          <HeadLayout toggle={this.toggle} collapsed={this.state.collapsed} />\n          <Layout style={{ marginTop: 60 }}>\n            {/* 左侧导航栏 */}\n            <Sider\n              trigger={null}\n              collapsible\n              collapsed={this.state.collapsed}\n              style={{ background: '#fff', height: 'auto', overflow: 'auto' }}\n            >\n              <MenuLayout onOpenChange={this.onOpenChange} openKeys={this.state.openKeys} />\n            </Sider>\n            <Content style={{ display: 'flex', margin: '10px 0px 0px 10px', backgroundColor: '#fff', flexDirection: 'column', height: 'auto', overflow: 'auto' }}>\n              {/* 面包屑部分 */}\n              <div style={{ display: 'flex', justifyContent: 'flex-start', height: 40, width: '100%', alignItems: 'center', borderBottom: '1px solid #efefef' }}>\n                <Icon\n                  type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\n                  onClick={this.toggle}\n                  style={{ width: 40, height: 40, display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n                />\n                <CrumbLayout {...this.props} />\n              </div>\n              {/* 主体部分 */}\n              <div style={{ display: 'flex', padding: 10, width: '100%', borderBottom: '1px solid #efefef', overflow: 'auto' }}>\n                {this.props.children}\n              </div>\n            </Content>\n          </Layout>\n        </Layout>\n      </LocaleProvider>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}