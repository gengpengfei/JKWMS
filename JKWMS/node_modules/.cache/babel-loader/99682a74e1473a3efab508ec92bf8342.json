{"ast":null,"code":"var CryptoJS = require(\"crypto-js\");\n\nexport var BASEURL = 'http://10.20.10.81:8877/';\nvar reqUrl = {\n  //-- 商品模块\n  getGoodsList: BASEURL + 'api/Product/productList',\n  //-- 商品列表\n  productExport: BASEURL + 'api/Product/productExport',\n  //-- 商品导出  \n  productDownload: BASEURL + 'api/Product/productDownload',\n  //-- 商品导入模版下载\n  productImport: BASEURL + 'api/Product/productImport',\n  //-- 商品信息导入\n  productVenDownload: BASEURL + 'api/Product/venProDownload',\n  //-- 商品供应商关系模版下载\n  productVenImport: BASEURL + 'api/Product/venProImport',\n  //-- 商品供应商关系导入\n  productDetail: BASEURL + 'api/Product/productDetail',\n  //-- 商品详情\n  productVendorList: BASEURL + 'api/Product/vendor',\n  //-- 供应商列表\n  productBindVendor: BASEURL + 'api/Product/vendorGood',\n  //-- 绑定供应商\n  //-- 商品类型模块\n  getGoodsTypeList: BASEURL + 'api/ProductType/index',\n  //-- 商品分类列表\n  getParentCode: BASEURL + 'api/ProductType/parentCode',\n  //-- 父类型列表\n  productTypeAdd: BASEURL + 'api/ProductType/productTypeAdd',\n  //-- 添加商品分类列表\n  productTypeDel: BASEURL + 'api/ProductType/proTypeDel',\n  //-- 删除商品分类\n  proTypeDetail: BASEURL + 'api/ProductType/proTypeDetail',\n  //-- 获取商品分类详情\n  productTypeEdit: BASEURL + 'api/ProductType/productTypeEdit',\n  //-- 编辑商品分类详情\n  proTypeDownload: BASEURL + 'api/ProductType/proTypeDownload',\n  //-- 商品分类导入模版下载\n  proTypeImport: BASEURL + 'api/ProductType/proTypeImport',\n  //-- 文件上传\n  //-- 不推送库存管理模块\n  proExcludeList: BASEURL + 'api/ProductType/proTypeImport' //-- 不推送库存商品列表\n\n  /*** 对请求数据进行加密*/\n\n};\n\nfunction serviceRequestEncryption(bodyData) {\n  var preKey = '87749CECEA24B1C314CC27CF7952EBC3'; //Md5加密（32位大写）\n\n  var objKeys = Object.keys(bodyData);\n  objKeys.sort(); //排序\n\n  var signStr = '';\n  objKeys.forEach(function (item) {\n    signStr = signStr + bodyData[item];\n  });\n  signStr = signStr + preKey;\n  var md51 = CryptoJS.MD5(signStr).toString();\n  var md51Super = md51.toUpperCase();\n  md51Super = md51Super.substring(2, 18);\n  var md52 = CryptoJS.MD5(md51Super).toString();\n  bodyData['sign'] = md52.toUpperCase();\n  return bodyData;\n}\n\nexport function NetWork_Post(net_api, bodyData, callback, netOptions) {\n  // 加密\n  // bodyData = serviceRequestEncryption(bodyData);\n  var opt_headers, opt_error;\n\n  if (typeof netOptions === 'object') {\n    opt_headers = netOptions['headers'];\n    opt_error = netOptions['error'];\n  }\n\n  ;\n  var post_header = opt_headers ? opt_headers : {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  };\n  var post_error = opt_error ? opt_error : {\n    status: '1004',\n    msg: '网络延时，请稍后重试！'\n  };\n  var url = reqUrl[net_api];\n  var fetchOptions = {\n    method: 'POST',\n    mode: 'cors',\n    headers: post_header,\n    body: JSON.stringify(bodyData) // body: bodyData,\n\n  };\n  fetch(url, fetchOptions).then(function (response) {\n    return response.text();\n  }).then(function (responseText) {\n    var responseData = JSON.parse(responseText);\n    callback(responseData); //回调\n  }).catch(function (error) {\n    callback(post_error);\n  });\n}\nexport function NetWork_Get(net_api, callback, netOptions) {\n  var url = reqUrl[net_api];\n  var opt_error;\n\n  if (typeof netOptions === 'object') {\n    opt_error = netOptions['error'];\n  }\n\n  ;\n  var get_error = opt_error ? opt_error : {\n    status: '-1',\n    msg: '请求失败'\n  };\n  fetch(url, {\n    method: 'GET',\n    credentials: 'include'\n  }).then(function (response) {\n    return response.text();\n  }).then(function (responseText) {\n    var responseData = JSON.parse(responseText);\n    callback(responseData);\n  }).catch(function (error) {\n    callback(get_error);\n  });\n}\n;\nexport function NetWork_File(net_api, bodyData, callback) {\n  // 加密\n  // bodyData = serviceRequestEncryption(bodyData);\n  var post_header = {};\n  var post_error = {\n    status: '1004',\n    msg: '网络延时，请稍后重试！'\n  };\n  var url = reqUrl[net_api];\n  var fetchOptions = {\n    method: 'POST',\n    mode: 'cors',\n    headers: post_header,\n    body: bodyData\n  };\n  fetch(url, fetchOptions).then(function (response) {\n    return response.text();\n  }).then(function (responseText) {\n    var responseData = JSON.parse(responseText);\n    callback(responseData); //回调\n  }).catch(function (error) {\n    callback(post_error);\n  });\n}","map":{"version":3,"sources":["/Users/jk/Desktop/obj/jkwmsweb/src/network/netUtils.js"],"names":["CryptoJS","require","BASEURL","reqUrl","getGoodsList","productExport","productDownload","productImport","productVenDownload","productVenImport","productDetail","productVendorList","productBindVendor","getGoodsTypeList","getParentCode","productTypeAdd","productTypeDel","proTypeDetail","productTypeEdit","proTypeDownload","proTypeImport","proExcludeList","serviceRequestEncryption","bodyData","preKey","objKeys","Object","keys","sort","signStr","forEach","item","md51","MD5","toString","md51Super","toUpperCase","substring","md52","NetWork_Post","net_api","callback","netOptions","opt_headers","opt_error","post_header","post_error","status","msg","url","fetchOptions","method","mode","headers","body","JSON","stringify","fetch","then","response","text","responseText","responseData","parse","catch","error","NetWork_Get","get_error","credentials","NetWork_File"],"mappings":"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","sourcesContent":["let CryptoJS = require(\"crypto-js\");\nexport const BASEURL = 'http://10.20.10.81:8877/';\nvar reqUrl = {\n    //-- 商品模块\n    getGoodsList: BASEURL + 'api/Product/productList',  //-- 商品列表\n    productExport: BASEURL + 'api/Product/productExport',//-- 商品导出  \n    productDownload: BASEURL + 'api/Product/productDownload',//-- 商品导入模版下载\n    productImport: BASEURL + 'api/Product/productImport',//-- 商品信息导入\n    productVenDownload: BASEURL + 'api/Product/venProDownload',//-- 商品供应商关系模版下载\n    productVenImport: BASEURL + 'api/Product/venProImport',//-- 商品供应商关系导入\n    productDetail: BASEURL + 'api/Product/productDetail',  //-- 商品详情\n    productVendorList: BASEURL + 'api/Product/vendor',//-- 供应商列表\n    productBindVendor: BASEURL + 'api/Product/vendorGood',//-- 绑定供应商\n\n    //-- 商品类型模块\n    getGoodsTypeList: BASEURL + 'api/ProductType/index',  //-- 商品分类列表\n    getParentCode: BASEURL + 'api/ProductType/parentCode', //-- 父类型列表\n    productTypeAdd: BASEURL + 'api/ProductType/productTypeAdd', //-- 添加商品分类列表\n    productTypeDel: BASEURL + 'api/ProductType/proTypeDel', //-- 删除商品分类\n    proTypeDetail: BASEURL + 'api/ProductType/proTypeDetail',//-- 获取商品分类详情\n    productTypeEdit: BASEURL + 'api/ProductType/productTypeEdit',//-- 编辑商品分类详情\n    proTypeDownload: BASEURL + 'api/ProductType/proTypeDownload',//-- 商品分类导入模版下载\n    proTypeImport: BASEURL + 'api/ProductType/proTypeImport', //-- 文件上传\n\n    //-- 不推送库存管理模块\n    proExcludeList: BASEURL + 'api/ProductType/proTypeImport', //-- 不推送库存商品列表\n}\n/*** 对请求数据进行加密*/\nfunction serviceRequestEncryption(bodyData) {\n    let preKey = '87749CECEA24B1C314CC27CF7952EBC3'; //Md5加密（32位大写）\n    let objKeys = Object.keys(bodyData);\n    objKeys.sort(); //排序\n\n    let signStr = '';\n    objKeys.forEach(item => {\n        signStr = signStr + bodyData[item];\n    });\n    signStr = signStr + preKey;\n\n    let md51 = CryptoJS.MD5(signStr).toString();\n    let md51Super = md51.toUpperCase();\n\n    md51Super = md51Super.substring(2, 18);\n    let md52 = CryptoJS.MD5(md51Super).toString();\n\n    bodyData['sign'] = md52.toUpperCase();\n    return bodyData;\n}\nexport function NetWork_Post(net_api, bodyData, callback, netOptions) {\n    // 加密\n    // bodyData = serviceRequestEncryption(bodyData);\n    let opt_headers, opt_error;\n    if (typeof netOptions === 'object') {\n        opt_headers = netOptions['headers'];\n        opt_error = netOptions['error'];\n    };\n\n    let post_header = opt_headers ? opt_headers : {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n    };\n\n    let post_error = opt_error ? opt_error : {\n        status: '1004',\n        msg: '网络延时，请稍后重试！',\n    };\n    let url = reqUrl[net_api];\n    let fetchOptions = {\n        method: 'POST',\n        mode: 'cors',\n        headers: post_header,\n        body: JSON.stringify(bodyData),\n        // body: bodyData,\n    }\n    fetch(url, fetchOptions)\n        .then((response) => response.text())\n        .then((responseText) => {\n            let responseData = JSON.parse(responseText);\n            callback(responseData);//回调\n        })\n        .catch(error => {\n            callback(post_error);\n        });\n\n}\n\nexport function NetWork_Get(net_api, callback, netOptions) {\n\n    let url = reqUrl[net_api];\n    let opt_error;\n\n    if (typeof netOptions === 'object') {\n        opt_error = netOptions['error'];\n    };\n\n    let get_error = opt_error ? opt_error : {\n        status: '-1',\n        msg: '请求失败',\n    };\n\n    fetch(url, {\n        method: 'GET',\n        credentials: 'include'\n    })\n        .then((response) => response.text())\n        .then((responseText) => {\n            let responseData = JSON.parse(responseText);\n            callback(responseData);\n        })\n        .catch((error) => {\n            callback(get_error);\n        });\n};\n\nexport function NetWork_File(net_api, bodyData, callback) {\n    // 加密\n    // bodyData = serviceRequestEncryption(bodyData);\n    let post_header = {};\n    let post_error = {\n        status: '1004',\n        msg: '网络延时，请稍后重试！',\n    };\n    let url = reqUrl[net_api];\n    let fetchOptions = {\n        method: 'POST',\n        mode: 'cors',\n        headers: post_header,\n        body: bodyData,\n    }\n    fetch(url, fetchOptions)\n        .then((response) => response.text())\n        .then((responseText) => {\n            let responseData = JSON.parse(responseText);\n            callback(responseData);//回调\n        })\n        .catch(error => {\n            callback(post_error);\n        });\n\n}"]},"metadata":{},"sourceType":"module"}